(this.webpackJsonpreactjs=this.webpackJsonpreactjs||[]).push([[32],{641:function(e,t,n){e.exports=n.p+"static/media/abp-logo-long.348dee44.png"},671:function(e,t,n){},672:function(e,t,n){e.exports=n.p+"static/media/microsoft.0502e763.svg"},744:function(e,t,n){"use strict";n.r(t);n(325);var a,r,o=n(326),c=n.n(o),s=(n(163),n(111)),l=n.n(s),i=(n(391),n(399)),u=n.n(i),m=(n(362),n(61)),p=n.n(m),d=(n(409),n(410)),h=n.n(d),g=(n(371),n(372)),f=n.n(g),E=n(2),b=n.n(E),y=n(4),v=n(7),w=n(13),x=n(102),A=n(101),k=(n(430),n(432)),j=n.n(k),O=(n(671),n(1)),N=n(69),S=n(641),T=n.n(S),z=n(672),R=n.n(z),q=n(38),C=n(16),I=n(117),D={userNameOrEmailAddress:[{required:!0,message:Object(q.a)("ThisFieldIsRequired")}],password:[{required:!0,message:Object(q.a)("ThisFieldIsRequired")}],useAzureAD:[{required:!1}]},F=n(126),L=j.a.Item,P={scopes:["openid","User.Read"],state:"12345",prompt:"select_account"},U={scopes:["openid","User.Read"]},_=Object(N.b)(I.a.AuthenticationStore,I.a.SessionStore,I.a.AccountStore)(a=Object(N.c)(a=function(e){Object(x.a)(n,e);var t=Object(A.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={loading:!1},e.handleSubmit=function(){var t=Object(y.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,e.props.form.validateFields(function(){var t=Object(y.a)(b.a.mark((function t(n,a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=4;break}return e.setState({loading:!0}),t.next=4,e.props.authenticationStore.login(a).then((function(t){var n=e.props.location.state;window.location=n?n.from.pathname:"/"})).catch((function(t){e.setState({loading:!1})}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.azureSignIn=function(){F.a.loginPopup(P).then((function(t){return e.handleResponse(t)})).catch((function(e){console.error(e)}))},e.handleResponse=function(){var t=Object(y.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null!==n?(console.log(n),r=n.account.userName,F.a.acquireTokenPopup(U).then((function(e){console.log(e),console.log("access_token",e.accessToken),console.log("username",e.account.userName),a={userNameOrEmailAddress:e.account.userName,password:e.accessToken,useAzureAD:!0}})).then(function(){var t=Object(y.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.authenticationStore.login(a);case 2:r=e.props.location.state,window.location=r?r.from.pathname:"/";case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then().catch((function(e){console.error(e)})),console.log(r)):e.selectAccount();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.selectAccount=function(){var e=F.a.getAllAccounts();null!==e&&(e.length>1?console.warn("Multiple accounts detected."):1===e.length&&(r=e[0],console.log(r)))},e}return Object(w.a)(n,[{key:"render",value:function(){var e=(this.props.location.state||{from:{pathname:"/"}}).from;if(this.props.authenticationStore.isAuthenticated)return O.createElement(C.a,{to:e});var t=this.props.form.getFieldDecorator;return O.createElement("div",{className:"d-md-flex h-md-100 align-items-center"},O.createElement("div",{className:"col-md-6 p-0 bg-indigo h-md-100 login-box"},O.createElement("div",{className:"text-white d-md-flex align-items-center h-100 text-center justify-content-center"},O.createElement("div",{className:"container-fluid",style:{backgroundColor:"#111d2c",height:"100vh"}}))),O.createElement("div",{className:"col-md-6 p-0 bg-white h-md-100 loginarea"},O.createElement("div",{className:"d-md-flex align-items-center h-md-100 justify-content-center"},O.createElement(j.a,{className:"",onSubmit:this.handleSubmit},O.createElement(h.a,null,O.createElement(h.a,{style:{marginTop:10}},O.createElement(f.a,null,O.createElement("img",{src:T.a,alt:"arcelor logo",className:"mx-auto d-block",style:{width:"60%",marginLeft:"30px"}}))),O.createElement(h.a,{style:{marginTop:10,textAlign:"center"}},O.createElement(f.a,null,O.createElement(c.a,null,O.createElement("div",{style:{textAlign:"center"}},O.createElement("h3",null,Object(q.a)("Holiday Approval System"))),O.createElement(L,null,t("userNameOrEmailAddress",{rules:D.userNameOrEmailAddress})(O.createElement(u.a,{placeholder:"Username or Email",style:{width:"250px"},prefix:O.createElement(p.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),size:"large"}))),O.createElement(L,null,t("password",{rules:D.password})(O.createElement(u.a,{placeholder:Object(q.a)("Password"),style:{width:"250px"},prefix:O.createElement(p.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",size:"large"}))),O.createElement(h.a,{style:{textAlign:"center"}},O.createElement(f.a,null,O.createElement(l.a,{loading:this.state.loading,style:{backgroundColor:"#f5222d",color:"white"},htmlType:"submit",type:"danger"},"Login"),O.createElement(l.a,{onClick:this.azureSignIn,style:{backgroundColor:"#f5222d",color:"white",marginLeft:"15px"},type:"danger"},O.createElement("img",{src:R.a,style:{width:"14px",marginRight:"5px"}}),"Login using Azure"))))))))),O.createElement(h.a,{className:"footnote"},"Powered by"," ",O.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"text-danger",href:"https://untanglestrategy.com/"},"Untangle_"))))}}]),n}(O.Component))||a)||a;t.default=j.a.create()(_)}}]);